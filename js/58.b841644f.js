"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[58],{9058:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var r=a(6768),s=a(5130),o=a(4232);const i={id:"app"},n={class:"center-search"},l={class:"filter-container"},c={class:"row"},u={class:"input-group"},d={class:"input-group"},p={class:"row"},g={class:"input-group keyword-group"},h={class:"search-bar"},k={class:"input-group price-group"},m={class:"price-inputs"},y={class:"center-button"},L={class:"filter-buttons"},P={class:"product-grid"},b=["onClick"],v={class:"product-image"},C=["src"],f={key:1,class:"no-image"},_={class:"product-info"},O={key:1,class:"no-posts"},T={class:"pagination"},w=["disabled"],A=["disabled"];function E(e,t,a,E,F,R){return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("main",null,[(0,r.Lk)("section",n,[t[16]||(t[16]=(0,r.Lk)("h1",{class:"search-title"},"검색 필터",-1)),(0,r.Lk)("div",l,[(0,r.Lk)("div",c,[(0,r.Lk)("div",u,[t[11]||(t[11]=(0,r.Lk)("label",{for:"main-category"},"대분류:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"main-category","onUpdate:modelValue":t[0]||(t[0]=e=>F.mainCategory=e),placeholder:"대분류 입력"},null,512),[[s.Jo,F.mainCategory]])]),(0,r.Lk)("div",d,[t[12]||(t[12]=(0,r.Lk)("label",{for:"sub-category"},"소분류:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"sub-category","onUpdate:modelValue":t[1]||(t[1]=e=>F.subCategory=e),placeholder:"소분류 입력"},null,512),[[s.Jo,F.subCategory]])])]),(0,r.Lk)("div",p,[(0,r.Lk)("div",g,[t[13]||(t[13]=(0,r.Lk)("label",{for:"search-query"},"제목 키워드:",-1)),(0,r.Lk)("div",h,[(0,r.bo)((0,r.Lk)("input",{type:"text",id:"search-query","onUpdate:modelValue":t[2]||(t[2]=e=>F.searchQuery=e),placeholder:"검색할 상품 제목 입력"},null,512),[[s.Jo,F.searchQuery]])])]),(0,r.Lk)("div",k,[t[15]||(t[15]=(0,r.Lk)("label",{for:"price-range"},"가격:",-1)),(0,r.Lk)("div",m,[(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>F.priceFrom=e),placeholder:"최소 가격"},null,512),[[s.Jo,F.priceFrom,void 0,{number:!0}]]),t[14]||(t[14]=(0,r.eW)(" ~ ")),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>F.priceTo=e),placeholder:"최대 가격"},null,512),[[s.Jo,F.priceTo,void 0,{number:!0}]])])])])]),(0,r.Lk)("div",y,[(0,r.Lk)("button",{class:"search-button",onClick:t[5]||(t[5]=(...e)=>R.fetchPosts&&R.fetchPosts(...e))},"검색")]),(0,r.Lk)("div",L,[(0,r.Lk)("button",{onClick:t[6]||(t[6]=e=>R.setSortOption("찜 많은 순"))},"찜 많은 순"),(0,r.Lk)("button",{onClick:t[7]||(t[7]=e=>R.setSortOption("가격 순"))},"가격 순"),(0,r.Lk)("button",{onClick:t[8]||(t[8]=e=>R.setSortOption("최신 순"))},"최신 순")])]),(0,r.Lk)("section",P,[R.posts.length>0?((0,r.uX)(!0),(0,r.CE)(r.FK,{key:0},(0,r.pI)(R.posts,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"product-card",onClick:t=>R.redirectToRead(e.Ino)},[(0,r.Lk)("div",v,[e.Image?((0,r.uX)(),(0,r.CE)("img",{key:0,src:`data:image/jpeg;base64,${e.Image}`,alt:"상품 이미지"},null,8,C)):((0,r.uX)(),(0,r.CE)("div",f,"이미지 없음"))]),(0,r.Lk)("div",_,[(0,r.Lk)("h3",null,(0,o.v_)(e.Title),1),(0,r.Lk)("p",null,"가격: "+(0,o.v_)(e.Price)+"원",1),(0,r.Lk)("p",null,"찜: ❤ "+(0,o.v_)(e.Like_cnt),1),(0,r.Lk)("p",null," [지역: "+(0,o.v_)(e.Place)+" | 게시일: "+(0,o.v_)(R.formatDate(e.Reg_date))+" | 분류: "+(0,o.v_)(e.Group1)+"] ",1)])],8,b)))),128)):((0,r.uX)(),(0,r.CE)("div",O," 게시물이 없습니다. "))]),(0,r.Lk)("section",T,[(0,r.Lk)("button",{onClick:t[9]||(t[9]=e=>R.changePage(F.currentPage-1)),disabled:1===F.currentPage}," 이전 ",8,w),(0,r.Lk)("span",null,"페이지 "+(0,o.v_)(F.currentPage)+" / "+(0,o.v_)(R.totalPages),1),(0,r.Lk)("button",{onClick:t[10]||(t[10]=e=>R.changePage(F.currentPage+1)),disabled:F.currentPage===R.totalPages}," 다음 ",8,A)])])])}a(4114),a(1454);var F=a(4373),R={data(){return{mainCategory:"",subCategory:"",priceFrom:null,priceTo:null,searchQuery:"",sortOption:"최신 순",itemsPerPage:9,allPosts:[],currentPage:1}},computed:{posts(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return Array.isArray(this.allPosts)?this.allPosts.slice(e,t):[]},totalPages(){return Math.ceil(this.allPosts.length/this.itemsPerPage)}},methods:{async fetchPosts(){try{const e=await F.A.get("http://localhost:3000/search",{params:{mainCategory:this.mainCategory,subCategory:this.subCategory,priceFrom:this.priceFrom,priceTo:this.priceTo,searchQuery:this.searchQuery,sortOption:this.sortOption}});console.log("Axios 응답 데이터:",e.data),Array.isArray(e.data)?this.allPosts=e.data.map((e=>({...e,Reg_date:e.Reg_date}))):(console.error("응답 데이터가 배열이 아닙니다."),this.allPosts=[]),this.currentPage=1}catch(e){console.error("게시물 데이터를 가져오는 중 오류 발생:",e),this.allPosts=[]}},setSortOption(e){this.sortOption=e,this.fetchPosts()},changePage(e){e>0&&e<=this.totalPages&&(this.currentPage=e)},redirectToRead(e){this.$router.push(`/read/${e}`)},formatDate(e){const t={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(e).toLocaleDateString("ko-KR",t)}},mounted(){this.fetchPosts()}},X=a(1241);const I=(0,X.A)(R,[["render",E],["__scopeId","data-v-41f7428f"]]);var J=I}}]);
//# sourceMappingURL=58.b841644f.js.map